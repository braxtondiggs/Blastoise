# ========================================
# Blastoise API Environment Configuration (T257)
# ========================================
# Copy this file to .env and fill in your values
# For production deployment, see README.md deployment section

# ========================================
# Supabase Configuration
# ========================================
# Get these from your Supabase project settings: https://app.supabase.com
# Settings > API > Project URL and API Keys
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key-here

# For development, you can use the local Supabase instance from Docker:
# SUPABASE_URL=http://localhost:8000
# SUPABASE_SERVICE_KEY=your-local-service-key

# ========================================
# Redis Configuration
# ========================================
# Local development (Docker Compose)
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=  # Optional, uncomment if password is set

# Production (Redis Cloud or Upstash)
# REDIS_HOST=your-redis-instance.redis.cloud
# REDIS_PORT=16379
# REDIS_PASSWORD=your-redis-password

# ========================================
# Server Configuration
# ========================================
PORT=3000
HOST=localhost
NODE_ENV=development

# ========================================
# Security & CORS
# ========================================
# Comma-separated list of allowed origins
# Development: Include both web and mobile app URLs
CORS_ORIGINS=http://localhost:4200,http://localhost:4201

# Production: Replace with your actual domains
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://app.yourdomain.com

# JWT secret for token signing (IMPORTANT: Change in production!)
# Generate a secure secret: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-here-change-in-production

# ========================================
# Monitoring & Observability (Optional)
# ========================================
# Sentry DSN for error tracking
# Get this from: https://sentry.io/settings/projects/your-project/keys/
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Sentry environment name
# SENTRY_ENVIRONMENT=development

# ========================================
# Rate Limiting (Optional - defaults provided)
# ========================================
# Requests per minute for authenticated users
# RATE_LIMIT_AUTHENTICATED=100

# Requests per minute for anonymous users
# RATE_LIMIT_ANONYMOUS=20

# ========================================
# Caching Configuration (Optional - defaults provided)
# ========================================
# Cache TTL in seconds
# CACHE_TTL_VENUES=300          # 5 minutes for venue details
# CACHE_TTL_NEARBY=60           # 1 minute for nearby venue searches
# CACHE_TTL_SEARCH=120          # 2 minutes for text searches
# CACHE_TTL_SHARED=600          # 10 minutes for shared visits

# ========================================
# Notification Configuration (Optional)
# ========================================
# Email service configuration for weekly summaries (T222)
# EMAIL_SERVICE=sendgrid         # Options: sendgrid, ses, postmark
# EMAIL_API_KEY=your-email-api-key
# EMAIL_FROM=noreply@yourdomain.com

# Web app URL for notification links
# WEB_APP_URL=http://localhost:4200

# ========================================
# Google Timeline Import Configuration (Optional)
# ========================================
# Google Places API key for Tier 3 verification (optional)
# Used to verify low-confidence matches from Overpass API or Open Brewery DB
# Get your API key from: https://console.cloud.google.com/google/maps-apis/credentials
# Enable "Places API" in your Google Cloud project
# Cost: $0.017 per request (only used for verification, not discovery)
# If not provided, system will skip Tier 3 verification
# GOOGLE_PLACES_API_KEY=your-google-places-api-key-here

# ========================================
# Feature Flags (Optional)
# ========================================
# Enable/disable specific features
# ENABLE_NOTIFICATIONS=true
# ENABLE_SHARING=true
# ENABLE_WEEKLY_SUMMARIES=false
